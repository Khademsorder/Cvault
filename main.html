<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì¶ Hybrid Vault - Main</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #0f172a; 
            color: white; 
            font-family: Arial;
            padding: 20px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #334155;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .tab {
            padding: 10px 20px;
            background: #1e293b;
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
        }
        .tab.active { background: #6366f1; }
        
        .content {
            margin-top: 20px;
        }
        
        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .file-card {
            background: #1e293b;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .upload-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #6366f1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.5);
        }
        
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üì¶ Hybrid Vault</h1>
        <div>
            <span id="userEmail"></span>
            <button onclick="logout()" style="margin-left: 15px; padding: 5px 15px; background: #ef4444; color: white; border: none; border-radius: 5px;">
                ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
            </button>
        </div>
    </div>
    
    <div class="tabs">
        <button class="tab active" onclick="switchTab('gallery')">üìÅ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</button>
        <button class="tab" onclick="switchTab('drive')">‚òÅÔ∏è ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠</button>
        <button class="tab" onclick="switchTab('upload')">üì§ ‡¶Ü‡¶™‡¶≤‡ßã‡¶°</button>
    </div>
    
    <div class="content" id="tabContent">
        <!-- Content will be loaded here -->
        <div class="empty-state">
            <div style="font-size: 4rem; margin-bottom: 20px;">üìÅ</div>
            <h3>‡¶ï‡ßã‡¶®‡ßã ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡ßá‡¶á</h3>
            <p>‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
        </div>
    </div>
    
    <div class="upload-btn" onclick="openUpload()">+</div>
    
    <script>
        // Check authentication
        if (!localStorage.getItem('pin_verified') && !localStorage.getItem('offline_mode')) {
            window.location.href = "fix.html";
        }
        
        // Show user email if available
        const userEmail = localStorage.getItem('user_email');
        if (userEmail) {
            document.getElementById('userEmail').textContent = userEmail;
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update content based on tab
            if (tabName === 'drive') {
                loadDriveTab();
            }
        }
        
        function loadDriveTab() {
            const content = document.getElementById('tabContent');
            content.innerHTML = `
                <div style="background: #1e293b; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h3>‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠</h3>
                    <p>‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠ ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                    <button onclick="connectDrive()" style="padding: 10px 20px; background: #10b981; color: white; border: none; border-radius: 5px; margin-top: 10px;">
                        üîó ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠ ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
            `;
        }
        
        function connectDrive() {
            const token = localStorage.getItem('google_access_token');
            if (token) {
                alert('‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠ ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶Ü‡¶õ‡ßá');
            } else {
                alert('‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
                window.location.href = "fix.html";
            }
        }
        
        function openUpload() {
            alert('‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
        }
        
        function logout() {
            if (confirm('‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?')) {
                localStorage.clear();
                window.location.href = "fix.html";
            }
        }
    </script>
</body>
</html>